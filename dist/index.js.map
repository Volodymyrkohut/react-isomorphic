{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/server/index.js","webpack:///./src/server/middleware/html.js","webpack:///./src/server/middleware/render.js","webpack:///./src/server/middleware/store.js","webpack:///./src/shared/App.js","webpack:///./src/shared/components/About/About.js","webpack:///./src/shared/components/Index/Index.js","webpack:///./src/shared/components/Post/Post.js","webpack:///./src/shared/components/Posts/Posts.js","webpack:///./src/shared/helpers/network.js","webpack:///./src/shared/routes.js","webpack:///./src/shared/store/actionTypes.js","webpack:///./src/shared/store/actions/init.js","webpack:///./src/shared/store/reducers/index.js","webpack:///./src/shared/store/reducers/init.js","webpack:///./src/shared/store/reducers/post.js","webpack:///./src/shared/store/reducers/posts.js","webpack:///external \"@babel/polyfill\"","webpack:///external \"axios\"","webpack:///external \"escape-string-regexp\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\"","webpack:///external \"serialize-javascript\""],"names":["express","use","req","res","app","handle","listen","process","env","PORT","console","log","path","resolve","__dirname","htmlMiddleware","storeMiddleware","renderMiddleware","next","publicPath","join","fs","readFile","err","html","status","send","url","store","context","activeRoute","routes","find","route","matchPath","fetchForEachPage","fetchInitialData","dispatch","Promise","initData","actionInitData","wholePromise","all","then","htmlContent","ReactDOMServer","renderToString","htmlReplacements","HTML_CONTENT","PRELOADED_STATE","serialize","getState","isJSON","Object","keys","forEach","key","value","replace","RegExp","escapeStringRegexp","header","redirect","configureStore","createStore","reducer","compose","applyMiddleware","thunk","App","init","actionGetInitialData","restProps","useEffect","data","map","exact","Comp","component","rest","props","mapStateToProps","mapDispatchToProps","connect","About","Index","Post","post","fetchPost","match","id","params","body","title","actionFetchPost","withRouter","posts","fetchPosts","actionFetchPosts","fetchData","options","reject","axios","get","result","error","Posts","split","pop","INIT_DATA","FETCH_POST","FETCH_POSTS","type","combineReducers","initialState","state","action"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AACA;AAEAA,8CAAO,GACFC,GADL,CACS,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcC,+CAAG,CAACC,MAAJ,CAAWH,GAAX,EAAgBC,GAAhB,CAAd;AAAA,CADT,EAEKG,MAFL,CAEYC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAFhC,EAEsC,YAAM;AACpCC,SAAO,CAACC,GAAR;AAGH,CANL,E;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,IAAMP,GAAG,GAAGJ,8CAAO,EAAnB;AAEAI,GAAG,CAACH,GAAJ,CAAQ,SAAR,EAAmBD,8CAAO,UAAP,CAAeY,2CAAI,CAACC,OAAL,CAAaC,SAAb,EAAwB,QAAxB,CAAf,CAAnB;AACAV,GAAG,CAACH,GAAJ,CAAQc,gEAAc,EAAtB;AACAX,GAAG,CAACH,GAAJ,CAAQe,iEAAe,EAAvB,E,CAA4B;;AAC5BZ,GAAG,CAACH,GAAJ,CAAQgB,kEAAgB,EAAxB;AAEeb,kEAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMW,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,UAACb,GAAD,EAAMC,GAAN,EAAWe,IAAX,EAAoB;AAC7C,QAAMC,UAAU,GAAGP,2CAAI,CAACQ,IAAL,CAAUN,SAAV,EAAqB,SAArB,CAAnB;AAEAO,6CAAE,CAACC,QAAH,WAAeH,UAAf,kBAAwC,MAAxC,EAAgD,UAACI,GAAD,EAAMC,IAAN,EAAe;AAC3D,UAAI,CAACD,GAAL,EAAU;AACNrB,WAAG,CAACsB,IAAJ,GAAWA,IAAX;AACAN,YAAI;AACP,OAHD,MAGO;AACHf,WAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,0BAArB;AACH;AACJ,KAPD;AAQH,GAXsB;AAAA,CAAvB;;AAaeX,6EAAf,E;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,SAAM,UAACf,GAAD,EAAMC,GAAN,EAAc;AAAA,QAClCwB,GADkC,GACdzB,GADc,CAClCyB,GADkC;AAAA,QAC7BC,KAD6B,GACd1B,GADc,CAC7B0B,KAD6B;AAAA,QACtBhB,IADsB,GACdV,GADc,CACtBU,IADsB;AAEzC,QAAIY,IAAI,GAAGtB,GAAG,CAACsB,IAAf;AACA,QAAMK,OAAO,GAAG,EAAhB;AAEA,QAAMC,WAAW,GAAGC,sDAAM,CAACC,IAAP,CAAY,UAAAC,KAAK;AAAA,aAAIC,kEAAS,CAACtB,IAAD,EAAOqB,KAAP,CAAb;AAAA,KAAjB,KAAgD,EAApE;AACA,QAAME,gBAAgB,GAAGL,WAAW,CAACM,gBAAZ,GAA+BN,WAAW,CAACM,gBAAZ,CAA6BR,KAAK,CAACS,QAAnC,EAA6CV,GAA7C,CAA/B,GAAmFW,OAAO,CAACzB,OAAR,CAAgB,IAAhB,CAA5G,CANyC,CAMyF;;AAElI,QAAM0B,QAAQ,GAAGX,KAAK,CAACS,QAAN,CAAeG,iFAAc,EAA7B,CAAjB;AAGA,QAAMC,YAAY,GAAGH,OAAO,CAACI,GAAR,CAAY,CAC7BH,QAD6B,EAE7BJ,gBAF6B,CAAZ,CAArB;AAKAM,gBAAY,CAACE,IAAb,CAAkB,YAAM;AAEpB,UAAMC,WAAW,GAAGC,uDAAc,CAACC,cAAf,eAChB,2DAAC,oDAAD;AAAe,aAAK,EAAElB;AAAtB,sBACI,2DAAC,6DAAD;AAAc,gBAAQ,EAAED,GAAxB;AAA6B,eAAO,EAAEE;AAAtC,sBACI,2DAAC,sDAAD,OADJ,CADJ,CADgB,CAApB;AAOA,UAAMkB,gBAAgB,GAAG;AACrBC,oBAAY,EAAEJ,WADO;AAErBK,uBAAe,EAAEC,2DAAS,CAACtB,KAAK,CAACuB,QAAN,EAAD,EAAmB;AAACC,gBAAM,EAAE;AAAT,SAAnB;AAFL,OAAzB;AAKAC,YAAM,CAACC,IAAP,CAAYP,gBAAZ,EAA8BQ,OAA9B,CAAsC,UAAAC,GAAG,EAAI;AACzC,YAAMC,KAAK,GAAGV,gBAAgB,CAACS,GAAD,CAA9B;AACAhC,YAAI,GAAGA,IAAI,CAACkC,OAAL,CAAa,IAAIC,MAAJ,CAAW,OAAOC,2DAAkB,CAACJ,GAAD,CAAzB,GAAiC,IAA5C,EAAkD,GAAlD,CAAb,EAAqEC,KAArE,CAAP;AACH,OAHD;;AAKA,UAAI5B,OAAO,CAACF,GAAZ,EAAiB;AACbxB,WAAG,CAAC0D,MAAJ,CAAW,eAAX,EAA4B,qCAA5B;AACA1D,WAAG,CAAC0D,MAAJ,CAAW,QAAX,EAAqB,UAArB;AACA1D,WAAG,CAAC0D,MAAJ,CAAW,SAAX,EAAsB,CAAtB;AACA1D,WAAG,CAAC2D,QAAJ,CAAa,GAAb,EAAkBjC,OAAO,CAACF,GAA1B;AACH,OALD,MAKO;AACHxB,WAAG,CAACuB,IAAJ,CAASF,IAAT;AACH;AACJ,KA3BD;AA4BH,GA5CwB;AAAA,CAAzB;;AA8CeP,+EAAf,E;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,IAAM8C,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,SAAOC,yDAAW,CAACC,uEAAD,EACdC,qDAAO,CAACC,6DAAe,CAACC,kDAAD,CAAhB,CADO,CAAlB;AAEH,CAHD;;AAKA,IAAMpD,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAAM,UAACd,GAAD,EAAMC,GAAN,EAAWe,IAAX,EAAoB;AAC9ChB,OAAG,CAAC0B,KAAJ,GAAYmC,cAAc,EAA1B;AACA7C,QAAI;AACP,GAHuB;AAAA,CAAxB;;AAKeF,8EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;;AAEA,IAAMqD,GAAG,GAAG,SAANA,GAAM,OAA+C;AAAA,MAA7CC,IAA6C,QAA7CA,IAA6C;AAAA,MAAvCC,oBAAuC,QAAvCA,oBAAuC;AAAA,MAAfC,SAAe;;AACvDC,yDAAS,CAAC,YAAM;AACZF,wBAAoB;AACvB,GAFQ,EAEN,EAFM,CAAT;AAIA,sBAAO,wFAEUD,IAAI,CAACI,IAFf,oBAEqB,sEAFrB,eAGH,qFACI,oFACI,oFAAI,2DAAC,wDAAD;AAAS,SAAK,MAAd;AAAe,MAAE,EAAC;AAAlB,YAAJ,CADJ,eAEI,oFAAI,2DAAC,wDAAD;AAAS,MAAE,EAAC;AAAZ,aAAJ,CAFJ,eAGI,oFAAI,2DAAC,wDAAD;AAAS,MAAE,EAAC;AAAZ,aAAJ,CAHJ,CADJ,CAHG,eAWH,2DAAC,uDAAD,QAEQ3C,+CAAM,CAAC4C,GAAP,CAAW,iBAA6C;AAAA,QAA3C/D,IAA2C,SAA3CA,IAA2C;AAAA,QAArCgE,KAAqC,SAArCA,KAAqC;AAAA,QAAnBC,IAAmB,SAA9BC,SAA8B;AAAA,QAAVC,IAAU;;AACpD,wBACI,2DAAC,sDAAD;AAAO,SAAG,EAAEnE,IAAZ;AAAkB,UAAI,EAAEA,IAAxB;AAA8B,WAAK,EAAEgE,KAArC;AAA4C,YAAM,EAAE,gBAACI,KAAD,EAAW;AAC3D,4BAAO,2DAAC,IAAD,eAAUA,KAAV,EAAqBD,IAArB,EAA+BP,SAA/B,EAAP;AACH;AAFD,MADJ;AAKH,GAND,CAFR,CAXG,CAAP;AAuBH,CA5BD;;AA8BA,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,QAAY;AAAA,MAAVX,IAAU,SAAVA,IAAU;AAChC,SAAO;AACHA,QAAI,EAAJA;AADG,GAAP;AAGH,CAJD;;AAMA,IAAMY,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC7C,QAAD,EAAc;AACrC,SAAO;AACHkC,wBAAoB,EAAE,gCAAM;AACxBlC,cAAQ,CAACG,0EAAc,EAAf,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQe2C,0HAAO,CAACF,eAAD,EAAkBC,kBAAlB,CAAP,CAA6Cb,GAA7C,CAAf,E;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;;AAEA,IAAMe,KAAK,GAAG,SAARA,KAAQ;AAAA,sBAAM,qFAAN;AAAA,CAAd;;AAEeA,oEAAf,E;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;;AAIA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,sBAAM,qFAAN;AAAA,CAAd;;AAGeA,oEAAf,E;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAmC;AAAA,uBAAjCC,IAAiC;AAAA,MAAjCA,IAAiC,0BAA1B,EAA0B;AAAA,MAAtBC,SAAsB,QAAtBA,SAAsB;AAAA,MAAXC,KAAW,QAAXA,KAAW;AAAA,MACrCC,EADqC,GAC/BD,KAAK,CAACE,MADyB,CACrCD,EADqC;AAAA,mBAExBH,IAFwB,CAErCb,IAFqC;AAAA,MAErCA,IAFqC,2BAE9B,EAF8B;AAAA,MAGrCkB,IAHqC,GAGvBlB,IAHuB,CAGrCkB,IAHqC;AAAA,MAGhCC,KAHgC,GAGvBnB,IAHuB,CAGhCmB,KAHgC;AAK5CpB,yDAAS,CAAC,YAAM;AACZe,aAAS,CAACE,EAAD,CAAT;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI,qFACG,uEAAKG,KAAL,CADH,eAEI,wEAAMD,IAAN,CAFJ,CADJ;AAOH,CAhBD;;AAmBA,IAAMX,eAAe,GAAG,SAAlBA,eAAkB,QAAY;AAAA,MAAVM,IAAU,SAAVA,IAAU;AAChC,SAAO;AACHA,QAAI,EAAJA;AADG,GAAP;AAGH,CAJD;;AAMA,IAAML,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC7C,QAAD,EAAc;AACrC,SAAO;AACHmD,aAAS,EAAE,mBAACE,EAAD,EAAQ;AACfrD,cAAQ,CAACyD,2EAAe,CAACJ,EAAD,CAAhB,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQeK,kIAAU,CAACZ,2DAAO,CAACF,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CI,IAA7C,CAAD,CAAzB,E;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAMA,IAAI,GAAG,SAAPA,IAAO,OAA8B;AAAA,wBAA5BU,KAA4B;AAAA,MAA5BA,KAA4B,2BAApB,EAAoB;AAAA,MAAhBC,UAAgB,QAAhBA,UAAgB;AAAA,oBACnBD,KADmB,CAChCtB,IADgC;AAAA,MAChCA,IADgC,4BACzB,EADyB;AAGvCD,yDAAS,CAAC,YAAM;AACZwB,cAAU;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI,qFACI,uEAEQvB,IAAI,CAACC,GAAL,CAAS,UAACY,IAAD,EAAU;AAAA,QACRM,KADQ,GACKN,IADL,CACRM,KADQ;AAAA,QACDH,EADC,GACKH,IADL,CACDG,EADC;AAEf,wBACI;AAAI,SAAG,EAAEA;AAAT,oBAAa,2DAAC,qDAAD;AAAM,QAAE,mBAAYA,EAAZ;AAAR,OAA2BG,KAA3B,CAAb,CADJ;AAGH,GALD,CAFR,CADJ,CADJ;AAgBH,CAvBD;;AA0BA,IAAMZ,eAAe,GAAG,SAAlBA,eAAkB,QAAa;AAAA,MAAXe,KAAW,SAAXA,KAAW;AACjC,SAAO;AACHA,SAAK,EAALA;AADG,GAAP;AAGH,CAJD;;AAMA,IAAMd,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC7C,QAAD,EAAc;AACrC,SAAO;AACH4D,cAAU,EAAE,sBAAM;AACd5D,cAAQ,CAAC6D,4EAAgB,EAAjB,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQef,0HAAO,CAACF,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CI,IAA7C,CAAf,E;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;CAEA;;AACA,IAAMa,SAAS,GAAG,SAAZA,SAAY,CAACxE,GAAD,EAAMyE,OAAN,EAAkB;AAChC,SAAO,IAAI9D,OAAJ,CAAY,UAACzB,OAAD,EAAUwF,MAAV,EAAqB;AACpCC,gDAAK,CAACC,GAAN,CAAU5E,GAAV,EAAeyE,OAAf,EACKzD,IADL,CACU,UAAA6D,MAAM,EAAI;AACZ3F,aAAO,CAAC2F,MAAD,CAAP;AACH,KAHL,WAIW,UAAAC,KAAK,EAAI;AACZJ,YAAM,CAACI,KAAD,CAAN;AACH,KANL;AAOH,GARM,CAAP;AASH,CAVD;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA,IAAM1E,MAAM,GAAG,CAAC;AACZnB,MAAI,EAAE,GADM;AAEZgE,OAAK,EAAE,IAFK;AAGZE,WAAS,EAAEO,+DAAKA;AAHJ,CAAD,EAIZ;AACCzE,MAAI,EAAE,QADP;AAECgE,OAAK,EAAE,IAFR;AAGCE,WAAS,EAAEM,+DAAKA;AAHjB,CAJY,EAQZ;AACCxE,MAAI,EAAE,QADP;AAECgE,OAAK,EAAE,IAFR;AAGCE,WAAS,EAAE4B,+DAHZ;AAICtE,kBAAgB,EAAE,0BAACC,QAAD,EAAc;AAC5B,WAAOA,QAAQ,CAAC6D,4EAAgB,EAAjB,CAAf;AACH;AANF,CARY,EAeZ;AACCtF,MAAI,EAAE,YADP;AAECgE,OAAK,EAAE,IAFR;AAGCE,WAAS,EAAEQ,6DAHZ;AAIClD,kBAAgB,EAAE,0BAACC,QAAD,EAAWV,GAAX,EAAmB;AACjC,QAAM+D,EAAE,GAAG/D,GAAG,CAACgF,KAAJ,CAAU,GAAV,EAAeC,GAAf,EAAX;AAEA,WAAOvE,QAAQ,CAACyD,2EAAe,CAACJ,EAAD,CAAhB,CAAf;AACH;AARF,CAfY,CAAf;AA0Be3D,qEAAf,E;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAO,IAAM8E,SAAS,GAAG,WAAlB;AAEA,IAAMC,UAAU,GAAG,YAAnB;AACA,IAAMC,WAAW,GAAG,aAApB,C;;;;;;;;;;;;ACHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEO,IAAMvE,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,UAAAH,QAAQ,EAAI;AAC5C,WAAO8D,kEAAS,gDAAT,CAA0DxD,IAA1D,CAA+D,UAAC+B,IAAD,EAAU;AAAA,UACrEmB,KADqE,GAC5DnB,IAAI,CAACA,IADuD,CACrEmB,KADqE;AAG5ExD,cAAQ,CAAC;AAAC2E,YAAI,EAAEH,sDAAP;AAAkBnC,YAAI,EAAEmB;AAAxB,OAAD,CAAR;AACH,KAJM,WAIE,UAACY,KAAD,EAAW;AAChB/F,aAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB8F,KAArB;AACH,KANM,CAAP;AAOH,GAR6B;AAAA,CAAvB;AAUA,IAAMX,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,EAAD;AAAA,SAAQ,UAAArD,QAAQ,EAAI;AAC/C,WAAO8D,kEAAS,sDAA+CT,EAA/C,EAAT,CAA8D/C,IAA9D,CAAmE,UAAC+B,IAAD,EAAU;AAChFrC,cAAQ,CAAC;AAAC2E,YAAI,EAAEF,uDAAP;AAAmBpC,YAAI,EAAEA,IAAI,CAACA;AAA9B,OAAD,CAAR;AACH,KAFM,WAEE,UAAC+B,KAAD,EAAW;AAChB/F,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB8F,KAAnB;AACH,KAJM,CAAP;AAKH,GAN8B;AAAA,CAAxB;AAQA,IAAMP,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,SAAM,UAAA7D,QAAQ,EAAI;AAC9C,WAAO8D,kEAAS,8CAAT,CAAwDxD,IAAxD,CAA6D,UAAC+B,IAAD,EAAU;AAC1ErC,cAAQ,CAAC;AAAC2E,YAAI,EAAED,wDAAP;AAAoBrC,YAAI,EAAEA,IAAI,CAACA;AAA/B,OAAD,CAAR;AACH,KAFM,WAEE,UAAC+B,KAAD,EAAW;AAChB/F,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAmB8F,KAAnB;AACH,KAJM,CAAP;AAKH,GAN+B;AAAA,CAAzB,C;;;;;;;;;;;;ACrBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEeQ,4HAAe,CAAC;AAC3B3C,MAAI,EAAJA,6CAD2B;AAE3B0B,OAAK,EAALA,8CAF2B;AAG3BT,MAAI,EAAJA,6CAAIA;AAHuB,CAAD,CAA9B,E;;;;;;;;;;;;;;;;;;;;ACLA;AAEA,IAAM2B,YAAY,GAAG,EAArB;;AAEA,IAAM5C,IAAI,GAAG,SAAPA,IAAO,GAAkC;AAAA,MAAjC6C,KAAiC,uEAAzBD,YAAyB;AAAA,MAAXE,MAAW;AAAA,MACpC1C,IADoC,GAC5B0C,MAD4B,CACpC1C,IADoC;;AAE3C,UAAQ0C,MAAM,CAACJ,IAAf;AACI,SAAMH,sDAAN;AACI,+BAAWM,KAAX;AAAkBzC,YAAI,EAAJA;AAAlB;;AACJ;AACI,aAAOyC,KAAP;AAJR;AAMH,CARD;;AAUe7C,mEAAf,E;;;;;;;;;;;;;;;;;;;;ACdA;AAEA,IAAM4C,YAAY,GAAG,EAArB;;AAEA,IAAM3B,IAAI,GAAG,SAAPA,IAAO,GAAkC;AAAA,MAAjC4B,KAAiC,uEAAzBD,YAAyB;AAAA,MAAXE,MAAW;AAAA,MACpC1C,IADoC,GAC5B0C,MAD4B,CACpC1C,IADoC;;AAG3C,UAAQ0C,MAAM,CAACJ,IAAf;AACI,SAAMF,uDAAN;AACI,+BAAWK,KAAX;AAAkBzC,YAAI,EAAJA;AAAlB;;AACJ;AACI,aAAOyC,KAAP;AAJR;AAMH,CATD;;AAWe5B,mEAAf,E;;;;;;;;;;;;;;;;;;;;ACfA;AAEA,IAAM2B,YAAY,GAAG,EAArB;;AAEA,IAAMlB,KAAK,GAAG,SAARA,KAAQ,GAAkC;AAAA,MAAjCmB,KAAiC,uEAAzBD,YAAyB;AAAA,MAAXE,MAAW;AAAA,MACrC1C,IADqC,GAC7B0C,MAD6B,CACrC1C,IADqC;;AAG5C,UAAQ0C,MAAM,CAACJ,IAAf;AACI,SAAMD,wDAAN;AACI,+BAAWI,KAAX;AAAkBzC,YAAI,EAAJA;AAAlB;;AACJ;AACI,aAAOyC,KAAP;AAJR;AAMH,CATD;;AAWenB,oEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;ACfA,4C;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,iD","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import express from 'express';\nimport app from \"./server\";\n\nexpress()\n    .use((req, res) => app.handle(req, res))\n    .listen(process.env.PORT || 8080, () => {\n        console.log(\n            `React-isomorphic App is running`\n        );\n    });","import path from 'path';\nimport express from 'express';\nimport htmlMiddleware from './middleware/html';\nimport storeMiddleware from './middleware/store';\nimport renderMiddleware from './middleware/render';\nconst app = express();\n\napp.use(\"/public\", express.static(path.resolve(__dirname, 'public')));\napp.use(htmlMiddleware());\napp.use(storeMiddleware()); // must come before render middleware\napp.use(renderMiddleware());\n\nexport default app;\n","import fs from 'fs';\nimport path from 'path';\n\nconst htmlMiddleware = () => (req, res, next) => {\n    const publicPath = path.join(__dirname, '/public');\n\n    fs.readFile(`${publicPath}/index.html`, 'utf8', (err, html) => {\n        if (!err) {\n            req.html = html;\n            next();\n        } else {\n            res.status(500).send('Error parsing index.html');\n        }\n    });\n};\n\nexport default htmlMiddleware;","import escapeStringRegexp from 'escape-string-regexp';\nimport React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport App from '../../shared/App.js';\nimport {matchPath, StaticRouter} from 'react-router-dom';\nimport {Provider as ReduxProvider} from 'react-redux';\nimport serialize from 'serialize-javascript';\nimport {actionInitData} from \"../../shared/store/actions/init\";\nimport routes from \"../../shared/routes\";\n\nconst renderMiddleware = () => (req, res) => {\n    const {url, store, path} = req;\n    let html = req.html;\n    const context = {};\n\n    const activeRoute = routes.find(route => matchPath(path, route)) || {};\n    const fetchForEachPage = activeRoute.fetchInitialData ? activeRoute.fetchInitialData(store.dispatch, url) : Promise.resolve(null);// console.log(\"fetchForEachPage\",fetchForEachPage)\n\n    const initData = store.dispatch(actionInitData());\n\n\n    const wholePromise = Promise.all([\n        initData,\n        fetchForEachPage\n    ]);\n\n    wholePromise.then(() => {\n\n        const htmlContent = ReactDOMServer.renderToString(\n            <ReduxProvider store={store}>\n                <StaticRouter location={url} context={context}>\n                    <App/>\n                </StaticRouter>\n            </ReduxProvider>);\n\n        const htmlReplacements = {\n            HTML_CONTENT: htmlContent,\n            PRELOADED_STATE: serialize(store.getState(), {isJSON: true}),\n        };\n\n        Object.keys(htmlReplacements).forEach(key => {\n            const value = htmlReplacements[key];\n            html = html.replace(new RegExp('__' + escapeStringRegexp(key) + '__', 'g'), value);\n        });\n\n        if (context.url) {\n            res.header('Cache-Control', 'no-cache, no-store, must-revalidate');\n            res.header('Pragma', 'no-cache');\n            res.header('Expires', 0);\n            res.redirect(302, context.url);\n        } else {\n            res.send(html);\n        }\n    });\n};\n\nexport default renderMiddleware;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport reducer from '../../shared/store/reducers/index.js';\nimport thunk from \"redux-thunk\";\n\nconst configureStore = () => {\n    return createStore(reducer,\n        compose(applyMiddleware(thunk)));\n};\n\nconst storeMiddleware = () => (req, res, next) => {\n    req.store = configureStore();\n    next();\n};\n\nexport default storeMiddleware;","import React, {useEffect} from \"react\";\nimport {NavLink, Switch, Route, withRouter, Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {actionInitData} from \"./store/actions/init\";\nimport routes from \"./routes\";\n\nconst App = ({init, actionGetInitialData,...restProps}) => {\n    useEffect(() => {\n        actionGetInitialData()\n    }, []);\n\n    return <div>\n\n        Redux data: {init.data} <br/>\n        <nav>\n            <ul>\n                <li><NavLink exact to=\"/\">Main</NavLink></li>\n                <li><NavLink to=\"/about\">About</NavLink></li>\n                <li><NavLink to=\"/posts\">posts</NavLink></li>\n            </ul>\n        </nav>\n\n        <Switch>\n            {\n                routes.map(({path, exact, component: Comp, ...rest}) => {\n                    return (\n                        <Route key={path} path={path} exact={exact} render={(props) => {\n                            return <Comp {...props} {...rest} {...restProps}/>\n                        }}/>\n                    )\n                })\n            }\n        </Switch>\n    </div>\n};\n\nconst mapStateToProps = ({init}) => {\n    return {\n        init\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        actionGetInitialData: () => {\n            dispatch(actionInitData())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import React from \"react\";\n\nconst About = () => <div>about page</div>;\n\nexport default About;","import React from \"react\";\n\n\n\nconst Index = () => <div>index page</div>;\n\n\nexport default Index;","import React, {useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {actionFetchPost} from \"../../store/actions/init\";\nimport {withRouter} from \"react-router-dom\";\n\nconst Post = ({post = {}, fetchPost, match}) => {\n    const {id} = match.params;\n    const {data = {}} = post;\n    const {body,title} = data;\n\n    useEffect(() => {\n        fetchPost(id)\n    }, []);\n\n    return (\n        <div>\n           <h3>{title}</h3>\n            <div>{body}</div>\n        </div>\n    )\n\n};\n\n\nconst mapStateToProps = ({post}) => {\n    return {\n        post\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchPost: (id) => {\n            dispatch(actionFetchPost(id))\n        }\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Post));","import React, {useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {actionFetchPosts} from \"../../store/actions/init\";\nimport {Link} from \"react-router-dom\";\n\nconst Post = ({posts = {}, fetchPosts}) => {\n    const {data = []} = posts;\n\n    useEffect(() => {\n        fetchPosts()\n    }, []);\n\n    return (\n        <div>\n            <ul>\n                {\n                    data.map((post) => {\n                        const {title, id} = post;\n                        return (\n                            <li key={id}><Link to={`/posts/${id}`}>{title}</Link></li>\n                        )\n                    })\n                }\n\n            </ul>\n        </div>\n    )\n\n};\n\n\nconst mapStateToProps = ({posts}) => {\n    return {\n        posts\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchPosts: () => {\n            dispatch(actionFetchPosts())\n        }\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);","import axios from 'axios';\n\n// fetch data\nconst fetchData = (url, options) => {\n    return new Promise((resolve, reject) => {\n        axios.get(url, options)\n            .then(result => {\n                resolve(result);\n            })\n            .catch(error => {\n                reject(error);\n            });\n    });\n};\n\n\nexport {\n    fetchData\n}","import {actionFetchPost, actionFetchPosts} from \"./store/actions/init\";\nimport Posts from \"./components/Posts/Posts\";\nimport Post from \"./components/Post/Post\";\nimport Index from \"./components/Index/Index\";\nimport About from \"./components/About/About\";\n\n\nconst routes = [{\n    path: '/',\n    exact: true,\n    component: Index,\n}, {\n    path: '/about',\n    exact: true,\n    component: About,\n}, {\n    path: '/posts',\n    exact: true,\n    component: Posts,\n    fetchInitialData: (dispatch) => {\n        return dispatch(actionFetchPosts())\n    }\n}, {\n    path: '/posts/:id',\n    exact: true,\n    component: Post,\n    fetchInitialData: (dispatch, url) => {\n        const id = url.split('/').pop();\n\n        return dispatch(actionFetchPost(id))\n    }\n}];\n\nexport default routes","export const INIT_DATA = \"INIT_DATA\";\n\nexport const FETCH_POST = \"FETCH_POST\";\nexport const FETCH_POSTS = \"FETCH_POSTS\";","import {INIT_DATA, FETCH_POST, FETCH_POSTS} from \"../actionTypes\";\nimport {fetchData} from \"../../helpers/network\";\n\nexport const actionInitData = () => dispatch => {\n    return fetchData(`https://jsonplaceholder.typicode.com/posts/1`).then((data) => {\n        const {title} = data.data;\n\n        dispatch({type: INIT_DATA, data: title});\n    }).catch((error) => {\n        console.log(\"error\", error)\n    })\n};\n\nexport const actionFetchPost = (id) => dispatch => {\n    return fetchData(`https://jsonplaceholder.typicode.com/posts/${id}`).then((data) => {\n        dispatch({type: FETCH_POST, data: data.data})\n    }).catch((error) => {\n        console.log(\"post\",error)\n    })\n};\n\nexport const actionFetchPosts = () => dispatch => {\n    return fetchData(`https://jsonplaceholder.typicode.com/posts`).then((data) => {\n        dispatch({type: FETCH_POSTS, data: data.data})\n    }).catch((error) => {\n        console.log(\"post\",error)\n    })\n};","import {combineReducers} from 'redux';\nimport init from \"./init\";\nimport posts from \"./posts\";\nimport post from \"./post\";\n\nexport default combineReducers({\n    init,\n    posts,\n    post,\n})\n","import {INIT_DATA} from \"../actionTypes\";\n\nconst initialState = {};\n\nconst init = (state = initialState, action) => {\n    const {data} = action;\n    switch (action.type) {\n        case  INIT_DATA:\n            return {...state, data};\n        default:\n            return state;\n    }\n};\n\nexport default init;","import {FETCH_POST} from \"../actionTypes\";\n\nconst initialState = {};\n\nconst post = (state = initialState, action) => {\n    const {data} = action;\n\n    switch (action.type) {\n        case  FETCH_POST:\n            return {...state, data};\n        default:\n            return state;\n    }\n};\n\nexport default post;","import {FETCH_POSTS} from \"../actionTypes\";\n\nconst initialState = {};\n\nconst posts = (state = initialState, action) => {\n    const {data} = action;\n\n    switch (action.type) {\n        case  FETCH_POSTS:\n            return {...state, data};\n        default:\n            return state;\n    }\n};\n\nexport default posts;","module.exports = require(\"@babel/polyfill\");","module.exports = require(\"axios\");","module.exports = require(\"escape-string-regexp\");","module.exports = require(\"express\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"serialize-javascript\");"],"sourceRoot":""}